// routes/api.js
const express = require('express');
const router = express.Router();
const db = require('../models/db'); // Import your database module

// Example API route for inserting data
router.post('/insert', async (req, res) => {
  const collection = db.getCollection('Order'); // Use your collection name "Order"

  const formData = {
    name: req.body.name,
    specialOrder: req.body.specialOrder,
    email: req.body.email,
    phoneNumber: req.body.phoneNumber,
  };

  try {
    const result = await collection.insertOne(formData);
    res.json({ message: 'Data inserted successfully', result });
  } catch (error) {
    console.error('Error inserting data:', error);
    res.status(500).json({ message: 'Error inserting data', error });
  }
});

module.exports = router;
